---
title: 美国国家自然科学基金处理记录！
date: 2023-11-19 10:34:00 +0800
categories: [随笔]
tags: [生活]
pin: true
author: 刘德智

toc: true
comments: true
typora-root-url: ../../tomstillcoding.github.io
math: false
mermaid: true

image:
  src: /assets/blog_res/2021-03-30-hello-world.assets/huoshan.jpg
  alt: 签约成功

---

[TOC]





# NSF构建流程



## NSF基金数据

### 1.数据收据与选取

从[NSF - National Science Foundation](https://www.nsf.gov/)收集到时间跨度为1959-2022年的美国国家基金项目493570项，通过选取权重值大于等于分布0.995（`quantile(0.995)`代表的是数据集中**99.5%**的数据小于或等于这个值，此时weight = 27,时间跨度参与27个项目）以上的30476项，通过基金号关联到wos有效论文数据的基金数据5302项，去掉异常基金数据一项得到5301项基金数据，5301项基金数据里面从wos得到论文42035篇，使用['NSF', 'National Science Foundation']对42035篇论文筛选过后得到论文39719篇,将基金数据5301项与论文39719篇合并后得到数据39720条

```
quantile(0.995) 表示在一个数据集中，累积分布函数（Cumulative Distribution Function，CDF）达到或超过 99.5% 的那个值。在统计学和概率论中，分位数（quantile）用于描述一个数据集的分布情况。具体而言，quantile(0.995) 是指在数据集中，有 99.5% 的观测值小于或等于这个值，而有 0.5% 的观测值大于或等于这个值。
```

1. **分位数的一般定义：**
   $$
   Q(p) = \inf \{ x \mid F(x) \geq p \}
   $$
   

   这里，Q(p)是p分位数，而`inf`表示取不超过给定值的最大实数。

2. **百分位数的定义：**
   $$
   Q(p) = F^{-1}(p)
   $$
   其中，`F^{-1}`是累积分布函数的逆函数，即百分位数是累积分布函数的逆函数在p处的值。

### 2.特征处理

NSF

| 列名                         | 中文说明             | 用途                                                        |
| ---------------------------- | -------------------- | ----------------------------------------------------------- |
| AwardTitle                   | 奖项标题             | 基金奖项的标题。                                            |
| AGENCY                       | 机构                 | 发放基金的机构。                                            |
| AwardEffectiveDate           | 奖项生效日期         | 基金奖项生效的日期。                                        |
| AwardExpirationDate          | 奖项到期日期         | 基金奖项到期的日期。                                        |
| AwardTotalIntnAmount         | 奖项总国际金额       | 基金奖项的总国际金额。                                      |
| AwardAmount                  | 奖项金额             | 基金奖项的金额。                                            |
| AwardInstrument_Value        | 奖项工具值           | 基金奖项的工具值。                                          |
| Organization_Code            | 机构代码             | 奖项所属机构的代码。                                        |
| Directorate_Abbreviation     | 董事会缩写           | 领导机构的缩写。                                            |
| Directorate_LongName         | 董事会全名           | 领导机构的全名。                                            |
| Division_Abbreviation        | 分区缩写             | 部门的缩写。                                                |
| Division_LongName            | 分区全名             | 部门的全名。                                                |
| ProgramOfficer_SignBlockName | 项目负责人签名区块名 | 项目负责人的签名区块名。                                    |
| ProgramOfficer_PO_EMAI       | 项目负责人邮箱       | 项目负责人的邮箱。                                          |
| ProgramOfficer_PO_PHON       | 项目负责人电话       | 项目负责人的电话。                                          |
| AbstractNarration            | 摘要叙述             | 基金奖项的摘要叙述。                                        |
| MinAmdLetterDate             | 最小修订信日期       | 修订信的最小日期。                                          |
| MaxAmdLetterDate             | 最大修订信日期       | 修订信的最大日期。                                          |
| ARRAAmount                   | ARRA金额             | 基金奖项的ARRA金额。                                        |
| TRAN_TYPE                    | 交易类型             | 交易的类型。                                                |
| CFDA_NUM                     | CFDA号               | CFDA（Catalog of Federal Domestic Assistance）号。          |
| NSF_PAR_USE_FLAG             | NSF PAR使用标志      | NSF PAR（Program Announcement and/or Guidelines）使用标志。 |
| FUND_AGCY_CODE               | 资金机构代码         | 资金机构的代码。                                            |
| AWDG_AGCY_CODE               | AWDG机构代码         | AWDG机构的代码。                                            |
| AwardID                      | 奖项ID               | 奖项的唯一标识符。                                          |
| Investigator                 | 调查员               | 调查员的信息。                                              |
| Institution                  | 机构                 | 奖项所属机构的信息。                                        |
| Performance_Institution      | 执行机构             | 奖项执行机构的信息。                                        |
| ProgramElement               | 项目元素             | 奖项的项目元素。                                            |
| ProgramReference             | 项目参考             | 奖项的项目参考。                                            |
| Appropriation                | 拨款                 | 基金的拨款信息。                                            |
| FUND_OBLG                    | 资金责任             | 基金的资金责任信息。                                        |
| POR_DRECONTENT               | POR DRE内容          | POR DRE（Program Outreach and Research Division）内容。     |
| POR_POR_COPY_TXT             | POR POR副本文本      | POR POR（Program Outreach and Research）副本文本。          |
| Fund                         | 基金                 | 基金的相关信息。                                            |

**web of science**    5301项基金数据里面从wos得到论文42035篇

| 列名                       | 中文说明                             | 用途                                                         |
| -------------------------- | ------------------------------------ | ------------------------------------------------------------ |
| Publication Type           | 出版物类型                           | 描述文献的类型，如期刊文章、会议论文、书籍等。<br />J——期刊文章. B——图书、论文集、报告、手册 |
| Authors                    | 作者                                 | 论文的作者列表                                               |
| Book Authors               | 书籍作者                             | 书籍的作者列表                                               |
| Book Editors               | 书籍编辑                             | 编辑书籍的人员列表                                           |
| Book Group Authors         | 书籍组织作者                         | 编辑或撰写书籍的组织或团体                                   |
| Author Full Names          | 作者全名                             | 完整的作者姓名列表                                           |
| Book Author Full Names     | 书籍作者全名                         | 完整的书籍作者姓名列表                                       |
| Group Authors              | 组织作者                             | 论文或书籍的组织作者列表                                     |
| Article Title              | 文章标题                             | 论文的标题                                                   |
| Source Title               | 来源标题                             | 论文发表的期刊、会议或书籍的标题                             |
| Book Series Title          | 书籍系列标题                         | 如果文章发表在书籍系列中，则为该系列的标题                   |
| Book Series Subtitle       | 书籍系列副标题                       | 书籍系列的副标题                                             |
| Language                   | 语言                                 | 论文所使用的语言                                             |
| Document Type              | 文献类型                             | 描述文献的类型，如文章、评论、书评等                         |
| Conference Title           | 会议标题                             | 如果是会议论文，表示会议的标题                               |
| Conference Date            | 会议日期                             | 如果是会议论文，表示会议的日期                               |
| Conference Location        | 会议地点                             | 如果是会议论文，表示会议的地点                               |
| Conference Sponsor         | 会议赞助商                           | 如果是会议论文，表示赞助该会议的组织                         |
| Conference Host            | 会议主办方                           | 如果是会议论文，表示主办该会议的组织                         |
| Author Keywords            | 作者关键词                           | 作者为论文选择的关键词                                       |
| Keywords Plus              | 文章关键词                           | 论文在文献数据库wos中的关键词                                |
| Abstract                   | 摘要                                 | 论文的摘要                                                   |
| Addresses                  | 地址                                 | 作者的工作地址                                               |
| Affiliations               | 机构                                 | 作者的所属机构                                               |
| Reprint Addresses          | 重印地址                             | 文章重印时的地址                                             |
| Email Addresses            | 电子邮件地址                         | 作者的电子邮件地址                                           |
| Researcher Ids             | 研究者ID                             | 作者的研究者标识号                                           |
| ORCIDs                     | ORCID标识号                          | 作者的ORCID标识号                                            |
| Funding Orgs               | 资助机构                             | 支持该研究的资助机构                                         |
| Funding Name Preferred     | 首选资助名称                         | 资助机构的首选名称                                           |
| Funding Text               | 资助文本                             | 有关研究资助的详细信息                                       |
| Cited References           | 引用参考文献                         | 引用的参考文献列表                                           |
| Cited Reference Count      | 引用参考文献计数                     | 引用的参考文献数量                                           |
| Times Cited, WoS Core      | 在Web of Science核心合集中的被引次数 | 文献在Web of Science核心合集中的被引用次数                   |
| Times Cited, All Databases | 在所有数据库中的被引次数             | 文献在所有数据库中的被引用次数                               |
| 180 Day Usage Count        | 180天使用计数                        | 文献在过去180天内的下载和查看次数                            |
| Since 2013 Usage Count     | 自2013年以来的使用计数               | 文献自2013年以来的下载和查看次数                             |
| Publisher                  | 出版商                               | 论文的出版商                                                 |
| Publisher City             | 出版商城市                           | 出版商的所在城市                                             |
| Publisher Address          | 出版商地址                           | 出版商的地址                                                 |
| ISSN                       | 印刷版号                             | 论文来源期刊的印刷版号                                       |
| eISSN                      | 电子版号                             | 论文来源期刊的电子版号                                       |
| ISBN                       | 国际标准书号                         | 书籍的国际标准书号                                           |
| Journal Abbreviation       | 期刊缩写                             | 期刊的缩写                                                   |
| Journal ISO Abbreviation   | 期刊ISO缩写                          | 期刊的ISO缩写                                                |
| Publication Date           | 发表日期                             | 论文的发表日期                                               |
| Publication Year           | 发表年份                             | 论文的发表年份                                               |
| Volume                     | 卷号                                 | 期刊的卷号                                                   |
| Issue                      | 期号                                 | 期刊的期号                                                   |
| Part Number                | 部分号                               | 文章所属的部分号                                             |
| Supplement                 | 补充                                 | 是否为补充材料                                               |
| Special Issue              | 专题号                               | 是否为特刊                                                   |
| Meeting Abstract           | 会议摘要                             | 如果是会议论文，表示会议的摘要。                             |
| Start Page                 | 起始页                               | 论文的起始页                                                 |
| End Page                   | 结束页                               | 论文的结束页                                                 |
| Article Number             | 文章编号                             | 文章的唯一编号                                               |
| DOI                        | 数字对象标识符                       | 文献的数字对象标识符，用于唯一标识文献                       |
| DOI Link                   | DOI链接                              | 文献DOI的链接                                                |
| Book DOI                   | 书籍DOI                              | 书籍的数字对象标识符                                         |
| Early Access Date          | 提前访问日期                         | 文献提前访问的日期                                           |
| Number of Pages            | 页数                                 | 文献的页数                                                   |
| WoS Categories             | Web of Science类别                   | 文献所属的Web of Science类别                                 |
| Web of Science Index       | Web of Science索引                   | 文献在Web of Science中的索引                                 |
| Research Areas             | 研究领域                             | 文献所属的研究领域                                           |
| IDS Number                 | IDS编号                              | 文献的IDS（Web of Science的一部分）编号                      |
| Pubmed Id                  | PubMed编号                           | 文献在PubMed中的编号                                         |
| Open Access Designations   | 开放获取标识                         | 文献的开放获取标识                                           |
| Highly Cited Status        | 高被引状态                           | 文献的高被引状态                                             |
| Hot Paper Status           | 热门论文状态                         | 文献的热门论文状态                                           |
| Date of Export             | 导出日期                             | 文献数据导出的日期                                           |
| UT (Unique WOS ID)         | 唯一Web of Science标识               | 文献的唯一Web of Science标识                                 |
| Web of Science Record      | Web of Science记录                   | 文献在Web of Science中的记录                                 |

其他

| 列名                | 中文说明     | 用途                                               |
| ------------------- | ------------ | -------------------------------------------------- |
| funPaperNum         | wos文献数量  | 描述通一个基金数据下wos文献的数量                  |
| filter_after_number | 筛选后的数量 | 描述筛选不符合NSF基金后一个基金数据下wos文献的数量 |

基金数据5301项与论文39719篇合并后得到数据39720条--空值分布

| 列名                         | 空值百分比 | 列名                       | 空值百分比 |
| ---------------------------- | ---------- | -------------------------- | ---------- |
| **AwardTitle**               | 0.0        | AwardEffectiveDate         | 0.0        |
| AwardExpirationDate          | 0.0        | AwardTotalIntnAmount       | 2.64       |
| AwardAmount                  | 0.0        | AwardInstrument_Value      | 0.0        |
| Organization_Code            | 0.0        | Directorate_Abbreviation   | 2.6        |
| Directorate_LongName         | 0.0        | Division_Abbreviation      | 2.6        |
| Division_LongName            | 0.0        | ProgramOfficer_SignBlockName | 0.0      |
| AbstractNarration            | 0.0        | MinAmdLetterDate           | 0.0        |
| MaxAmdLetterDate             | 0.0        | ARRAAmount                 | 92.95      |
| AwardID                      | 0.0        | Investigator               | 0.0        |
| Institution                  | 0.0        | ProgramElement             | 0.33       |
| AGENCY                       | 7.63       | ProgramOfficer_PO_EMAI     | 32.46      |
| ProgramOfficer_PO_PHON       | 32.46      | TRAN_TYPE                  | 7.63       |
| CFDA_NUM                     | 7.64       | NSF_PAR_USE_FLAG           | 7.63       |
| FUND_AGCY_CODE               | 7.63       | AWDG_AGCY_CODE             | 7.63       |
| Performance_Institution      | 7.63       | FUND_OBLG                  | 7.8        |
| year                         | 0.0        | FoaInformation             | 64.81      |
| ProgramReference             | 7.83       | Appropriation              | 12.05      |
| Fund                         | 35.13      | POR_DRECONTENT             | 55.63      |
| POR_POR_COPY_TXT             | 55.63      | **Publication Type**       | 0.0        |
| Authors                      | 0.0025     | Book Authors               | 99.9975    |
| Book Editors                 | 99.8691    | Book Group Authors         | 99.9975    |
| Author Full Names            | 0.0025     | Book Author Full Names     | 99.9975    |
| Group Authors                | 99.1390    | Article Title              | 0.0        |
| Source Title                 | 0.0        | Book Series Title           | 99.8666    |
| Book Series Subtitle          | 100.0      | Language                   | 0.0        |
| Document Type                | 0.0        | Conference Title            | 98.8797    |
| Conference Date               | 98.8797    | Conference Location         | 98.8797    |
| Conference Sponsor            | 99.4990    | Conference Host             | 99.8364    |
| Author Keywords               | 37.9985    | Keywords Plus              | 7.3968     |
| Abstract                      | 1.3696     | Addresses                  | 0.2165     |
| Affiliations                  | 0.5312     | Reprint Addresses          | 0.4255     |
| Email Addresses               | 4.4058     | Researcher Ids             | 32.3263    |
| ORCIDs                        | 17.0217    | Funding Orgs               | 0.0        |
| Funding Name Preferred        | 0.0504     | Funding Text                | 1.0222     |
| Cited References              | 100.0      | Cited Reference Count      | 0.0        |
| Times Cited, WoS Core         | 0.0        | Times Cited, All Databases | 0.0        |
| 180 Day Usage Count           | 0.0        | Since 2013 Usage Count     | 0.0        |
| Publisher                     | 0.0        | Publisher City              | 0.0        |
| Publisher Address             | 0.0        | ISSN                       | 4.8414     |
| eISSN                         | 18.3484    | ISBN                       | 99.8867    |
| Journal Abbreviation          | 0.0        | Journal ISO Abbreviation    | 0.0277     |
| Publication Date              | 5.5841     | Publication Year            | 0.0        |
| Volume                        | 1.7447     | Issue                       | 21.1858    |
| Part Number                   | 99.3605    | Supplement                  | 99.5796    |
| Special Issue                 | 95.7326    | Meeting Abstract            | 99.8917    |
| Start Page                    | 31.7271    | End Page                    | 31.7271    |
| Article Number                | 70.1888    | DOI                         | 0.9894     |
| DOI Link                      | 0.9894     | Book DOI                    | 99.9975    |
| Early Access Date             | 86.5257    | Number of Pages             | 0.0        |
| WoS Categories                | 0.0        | Web of Science Index         | 0.0        |
| Research Areas                | 0.0        | IDS Number                  | 0.0        |
| Pubmed Id                     | 64.7281    | Open Access Designations     | 37.2533    |
| Highly Cited Status           | 100.0      | Hot Paper Status             | 100.0      |
| Date of Export                | 0.0        | UT (Unique WOS ID)           | 0.0        |
| Web of Science Record         | 0.0        | funPaperNum                  | 0.0        |
| filter_after_number           | 0.0        |||


NSF分析字段
| 列名                                                         | 建议原因或说明                       |
| ------------------------------------------------------------ | ------------------------------------ |
| Investigator                                                 | 主要研究人员信息                     |
| Institution                                                  | 项目所属机构信息                     |
| Performance_Institution                                      | 项目执行机构信息                     |
| ProgramOfficer_SignBlockName                                 | 项目联系人姓名                       |
| ProgramOfficer_PO_EMAI                                       | 项目联系人邮箱                       |
| Addresses, Affiliations, Reprint Addresses, Email Addresses  | 地理位置和联系信息                   |
| Conference Title, Conference Date, Conference Location, Conference Sponsor, Conference Host | 会议相关信息，用于时空分析           |
| year                                                         | 项目或论文的年份信息                 |
| FUND_OBLG, Appropriation, Fund                               | 资金相关信息，用于资金分配分析       |
| FoaInformation, ProgramReference                             | 资助机构或项目的额外信息             |
| Keywords, Abstract                                           | 关键词和摘要，用于主题分析和了解内容 |

按照以人为中心进行对 人员，机构，地理位置，时空分布，研究主题和内容，研究人员的关键字 进行分析工作

| 列名                     | 建议原因或说明                               |
| ------------------------ | -------------------------------------------- |
| 基金数据                 |                                              |
| AwardTitle               |                                              |
| AwardEffectiveDate       |                                              |
| AwardExpirationDate      |                                              |
| AwardTotalIntnAmount     | 空白用AwardAmount数据补充                    |
| AwardAmount              |                                              |
| Organization_Code        |                                              |
| Directorate_Abbreviation | 空白用Directorate_LongName全称转换           |
| Directorate_LongName     |                                              |
| Division_Abbreviation    | 空白用Division_LongName全称转换              |
| Division_LongName        |                                              |
| AbstractNarration        | 项目摘要                                     |
| 以下是web of science论文 |                                              |
| Authors                  |                                              |
| Author Full Names        |                                              |
| Article Title            |                                              |
| Source Title             |                                              |
| Author Keywords          | 作者关键字  37.9985  使用AbstractNarration和 |
| Abstract                 |                                              |
| Research Areas           | 研究领域                                     |

一.使用提取摘要关键字补充空白作者关键字   

1. **KeyBERT:**KeyBERT [预训练模型 — Sentence-Transformer 文档 (sbert.net)](https://www.sbert.net/docs/pretrained_models.html)

   ```python
   kb_model = KeyBERT(model="all-mpnet-base-v2")   #补充关键字: 39720it [9:41:55,  1.14it/s]
   aurhord_keyword = kb_model2.extract_keywords(doc, keyphrase_ngram_range=(1, 2))
   ```

   **关键特性：** KeyBERT 基于 BERT 嵌入，旨在生成关键短语。它使用预训练的 BERT 模型来提取关键字。

   **优势：** 它在捕捉文本上下文和语义含义方面表现良好。

   **注意事项：** 由于它依赖于 BERT，与简单的算法相比，可能在计算上更昂贵。

2. **YAKE（Yet Another Keyword Extractor）:**

   **关键特性：** YAKE 是一种轻量级、与语言无关的关键字提取算法。它使用统计和语言学特征的组合。

   **优势：** YAKE 速度快且有效。您可以通过调整参数来自定义提取过程。

   **注意事项：** 它可能不像基于更先进语言模型的方法那样有效地捕捉上下文信息。

3. **Rake（Rapid Automatic Keyword Extraction）:**

   **关键特性：** Rake 是一种基于规则的关键字提取算法。它通过分析文本中单词的频率和共现来识别关键字。

   **优势：** 简单易用。在某些类型的文本中特别有效，尤其是当上下文不是关键时。

   **注意事项：** 它可能不像基于先进语言模型的方法那样有效地捕捉语义含义。

4. **TextRank-Summa:**

   **关键特性：** Summa 提供关键字提取和文本摘要。它包括使用 TextRank 算法来提取重要词语和短语。

   **优势：** 这是一个简单而高效的库。TextRank 可以根据文本中单词之间的关系来捕捉其重要性。

   **注意事项：** 它可能不像依赖深度学习模型（如 BERT）的方法那样先进。

### 3.构建网络 

以基金号和论文编号构建网络

示例：最大联通子图

![image-20231210171034578](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20231210171034578.png)

以关联的论文作者构建网络

示例：最大联通子图

![image-20231210170945832](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20231210170945832.png)

图太大，范围不明确



按照每一年收集处理

宏观，介观，微观三个维度挖掘；引入 熵，结构洞，平衡网络，高阶等方法

数据处理['NSF', 'National Science Foundation']

| 年份 | 基金/项 |  论文  | 过滤论文 | 关联基金 | 关联论文 | 关联总数据 |
| :--: | :-----: | :----: | :------: | :------: | :------: | :--------: |
| 2000 |  10370  |  9188  |   7614   |   385    |   1574   |    1574    |
| 2001 |  9848   |  1061  |   287    |   218    |   774    |    774     |
| 2002 |  10955  |  758   |   134    |   624    |   624    |    619     |
| 2003 |  11556  |  797   |   156    |   251    |   641    |    641     |
| 2004 |  10721  |  7793  |   401    |   1788   |   7392   |    7392    |
| 2005 |  10730  | 10717  |   194    |  10523   |   2387   |   10523    |
| 2006 |  11063  |  5114  |    87    |   1310   |   5027   |    5022    |
| 2007 |  12223  | 12598  |   218    |   2753   |  12380   |   12380    |
| 2008 |  12612  | 42374  |   337    |   6400   |  42037   |   42032    |
| 2009 |  15430  | 55016  |   442    |  54574   |   7983   |   54574    |
| 2010 |  13094  | 74810  |   7750   |   8112   |  67060   |   67090    |
| 2011 |  11652  | 96320  |   9867   |   7980   |  86453   |   86453    |
| 2012 |  12165  | 86656  |   2825   |   8364   |  83831   |   83831    |
| 2013 |  11502  | 83569  |   1143   |   8194   |  82426   |   82426    |
| 2014 |  12109  | 86860  |   8569   |   8569   |  86199   |   86199    |
| 2015 |  13072  | 89222  |   1319   |   9107   |  87903   |   87903    |
| 2016 |  12594  | 74222  |   980    |   8368   |  73242   |   73242    |
| 2017 |  12289  | 66267  |   789    |   8025   |  65478   |   65553    |
| 2018 |  12235  | 52154  |   763    |   7603   |  51391   |   51384    |
| 2019 |  13039  | 43900  |   766    |   7676   |  43134   |   43134    |
| 2020 |  13285  | 60520  |  10163   |   7462   |  50357   |   50357    |
| 2021 |  11417  | 17164  |   657    |   4716   |  16507   |   16507    |
| 2022 |  11456  |  5450  |   327    |   2242   |   5123   |    5123    |
| 2023 |  8345   |  1075  |   535    |   360    |   540    |    540     |
|      | 283762  | 983605 |  56323   |  175604  |  880463  |   935273   |

```
1555237  1563234
```

```
1650033
```



```
2054892
```

```
2131632    2143168
```





**2000年person**

![image-20231214174914696](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20231214174914696.png)



2000fund-paper

![image-20231214175928970](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20231214175928970.png)

### 姓名消歧

```
jaro_winkler_similarity 函数，它计算的是 Jaro-Winkler 相似度。Jaro-Winkler 相似度是一种衡量两个字符串相似度的指标，它对于前缀相同的字符串给予更高的权重

```



```python
from difflib import SequenceMatcher

# str1 = "Wood, Perry L."
# str2 = "Wood, Perry"

str1 = "Izam, Nur Amalina Mohd"
str2 = "MOHD IZAM, NUR AMALINA"
#
str1 = "izam, nur amalina mohd"
str2 = "mohd izam, nur amaline"

name_similarity_ratio = SequenceMatcher(None, str1, str2).ratio()
print('name_similarity_ratio:',name_similarity_ratio)
# 设置相似度阈值，根据具体需求调整
threshold = 0.7
if name_similarity_ratio >= threshold:
    print("同一个人")
else:
    print("不是同一个人")
```







```python
import jellyfish

def name_similarity(name1, name2):
    # Using Jaro-Winkler similarity
    similarity = jellyfish.jaro_winkler_similarity(name1, name2)
    print('similarity',similarity)
    return similarity
```





```python
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.metrics.pairwise import cosine_similarity

def calculate_tfidf_cosine_similarity(text1, text2):
    vectorizer = TfidfVectorizer()
    corpus = [text1, text2]
    vectors = vectorizer.fit_transform(corpus)
    similarity = cosine_similarity(vectors)
    return similarity[0][1]

name1 = "Izam, Nur Amalina Mohd"
name2 = "MOHD IZAM, NUR AMALINA"
# name1 = "Wood, Perry L."
# name2 = "Wood, Perry"
similarity_score = calculate_tfidf_cosine_similarity(name1, name2)
print(similarity_score)
```

![image-20240115171916044](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115171916044.png)



![image-20240115174243435](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115174243435.png)



![](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115174318224.png)

![image-20240115174349475](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115174349475.png)

![image-20240115174817672](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115174817672.png)

![image-20240115175423480](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115175423480.png)

![image-20240115175716933](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115175716933.png)

![](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115180900325.png)![image-20240115230930822](/C:/Users/24514/AppData/Roaming/Typora/typora-user-images/image-20240115230930822.png)	
