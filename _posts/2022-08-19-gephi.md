---

title: gephi
date: 2022-03-26 10:34:00 +0800
categories: [随笔]
tags: [分类]
pin: true
author: 刘德智

toc: true
comments: true
typora-root-url: ../../liudezhiya.github.io
math: false
mermaid: true

image:
  src: /../blog/assets/blog_res/2022-08-19-gephi.assets/1.png
  alt: gephi
---

[TOC]

## 统计：使用算法度量网络

根据统计算法，为节点或边计算出不同的数值；

研究节点的度：度、加权度、PageRank、聚类系数、特征向量中心度、模块化；

研究边的连接性：网络直径、连接组件；

研究图的整体特性：平均度、平均加权度、图密度、平均路径长度；

研究聚类特性：模块化；

```
模块化和连接组件都具有某种归类或聚类的特性，但模块化根本上是统计节点的一种度，并在此基础上把度相同的节点归类；连接组件并不考虑节点度的状态，而仅仅是根据连接关系对节点归类。
```

####  <img src="/../blog/assets/blog_res/2022-08-19-gephi.assets/2.png" style="zoom:25%;" />

#### 网络概述

平均度(Average Degree) --》有向图（**连入度，连出度，度**），无向图（）

```
所有节点度数之和 ➗节点总数
```

平均加权度(Average Weighted Degree)**【加权度】**	**有向图**（**加权入度，加权出度，加权度**）

```
根据边的实际权重计算节点的度（平均度中每条边的权重都是1）
```

网络直径(√)    **【Eccentricity 】【Closeness Centrality】【 Harmonic Closeness Centrality】【Betweenness Centrality】**

**网络中所有节点对的距离的最大值**

```
	离心率(eccentricity)：从某节点到最远节点的距离（最短路径） 从一个给定起始节点到距其最远节点的距离

	紧密中心度/接近度中心(closeness centrality)：从某节点到其他所有节点的平均距离  从一个给定起始节点到所有其它节点的平均距离
	
	调和中心性（Harmonic Centrality）算法是接近中心性算法的变种。接近中心性衡量的是节点在其连通分量中到其它各点的平均最短距离，显然在不连通图中就无法  	体现节点在全图的中心性；调和中心性提出的“平均最短距离”则是对这些最短距离的倒数求和，这使它可以处理非连通图中会出现的无限值，调和中心性的取值范围是 		[0,1]，数值越大中心性越大。
	。（实际很少用）

	介数中心度(between centrality)：度量一个节点出现在网络中最短路径上的频率
```

图密度(Density) 		 实际有的边数➗所有节点最大可能边数 

点击次数() **【Authority】【Hub】**

```
计算每个节点的两个单独的值.第一个值(简称管辖区)度量有价值的信息如何存储在该节点.第二个值(称为集线区)度量的节点连接的质量.
权威顶点（authority）:包含所关注主题有用信息的顶点 （适用于有向）
核心顶点（hub）:说明哪里可以找到最合适的权威顶点的顶点（适用于有向）
```

PageRank()**【pagerank】**

```
根据网页之间的链接关系对网页重要性评分，是搜索引擎用来计算网页排名的最核心的算法。

pagerank值越高，则页面越重要，在搜索结果中应该排在前列
```

连接部件()**【Component ID】**确定网络中连通分量的个数。

### community detection

```
模块化  【modularity class】
statistical inference 【inferred class】
```



#### 节点概述

平均聚类系数()**[Average Clustering Coefficient] [Total triangle] ** **【Clustering Coefficient】,【]number of triangles】**

```
聚类系数：某个节点一度连接的几个节点中，实际边数与最大边数之比。
描述网络中的节点之间结集成团的程度的系数（A的朋友们之间的关系）

聚类系数，和平均最短路径一起，能够展示所谓的小世界"效应;表明节点如何嵌入其邻居当中。平均聚类系数给出关于-一个节点聚类或抱团的总体迹象。
```

特征向量中心度()【Eigenvector Centrality】

```
基于节点连接来衡量节点重要性的指标（与pagerank相似）

核心思想：某个重要节点不仅与其他许多节点连接，而且相连的节点也是比较重要的
```

#### 边概述

平均路径长度(Average Path length)    所有最短路径之和的平均值  

**【Eccentricity 】【Closeness Centrality】【 Harmonic Closeness Centrality】【Betweenness Centrality】**

```
距离
所有节点对之间的平均图距离。互相连接的节点的图距离为1。直径是最长的任何两个节点之间的距离。(即是两个最遥远的节点相距多远)。
介数中心性:度量一个节点出现在网络中最短路径上的频率。
接近中心性:从一个给定起始节点到所有其它节点的平均距离。
离心率: 从一个给定起始节点到距其最远节点的距离。
```



#### 动态

节点()

边()

度()

聚类系数(Clustering Coefficient)

## 过滤：查询、筛选与分类

![](/../blog/assets/blog_res/2022-08-19-gephi.assets/1.png)

#### 动态

根据动态图的特性进行过滤

通过约束范围和空值，观察动态图在不同时间段内结构的变化。

#### 属性

根据图节点或边的属性进行过滤

| 属性类型 | 解释                                                         |
| -------- | ------------------------------------------------------------ |
| 分区     | 对节点计算统计数据后，根据统计数据的数值约束，显示不同的节点 |
| 分区统计 |                                                              |
| 等于     | 把节点或边中某个字段值相同的节点或边查询出来，与分区功能类似，但一次只能选择一个字段的一个数值 |
| 非空     | 显示值不为空的节点或边                                       |
| 范围     |                                                              |
| 边之间   |                                                              |
| 边内部   |                                                              |

#### 拓扑

根据图的拓扑结构进行过滤 

| 类型                   | 解释                                                         |
| ---------------------- | ------------------------------------------------------------ |
| 具有自环               | 自环指一个节点有指向自身的一条边，筛选出包含自环的节点       |
| K-核心                 | K-核心是指在一个图中，由多个节点组成的一组节点集，k 表示这个节点集中每个节点的度都不小于 k 值。在节点集中，互相之间连接度一致到度数称为这个核心的核数 |
| 在度的范围（入度范围） | 过滤出入度相同的节点，仅支持有向图                           |
| 巨人组件               | 巨人组件指在一个图中占有节点数比例最高的连通子图，如果图中由两个或多个节点数量一样多的子图，则优先保留包含节点内部 ID 靠前的子图。 |
| 度范围                 | 定义一个范围，筛选度（仅统计度数，不细分出入度）符合该范围的节点 |
| 相互度范围             | 相互度范围指节点的双向边数量，可根据双向边的数量对节点查询和分类 |
| 自我网络               | 自我网络是由唯一一个中心节点，以及这个节点的邻居组成的图，可以过滤出特定节点深度在 1 度、2 度、3 度以及最大度情况下生成的图（保留节点和直接相连的节点） |
| 超出度范围（出度范围） | 过滤出图中出度在某一范围的全部节点                           |
| 邻居网络               | 保存临域的深度在 1 度、2 度、3 度或表现有图的最大值（自我网络和他最近的一个邻居自我网络） |



#### 操作分类

过滤过滤，可以将多个过滤器以某种逻辑关系结合在一起进行过滤 

| 类型       | 解释                                                         |
| ---------- | ------------------------------------------------------------ |
| 边 Mask    | 显示符合一定条件的边，需与上述的过滤器结合，如显示与度为 2 的节点连接的边，需要将属性-等于-度拖入到 mask 边的子过滤器中 |
| 不（节点） | 不显示指定的节点                                             |
| 不（边）   | 不显示指定的边                                               |
| 交集       | 显示同时符合多个条件的过滤                                   |
| 并集       | 显示在多个条件中符合任意一个条件的过滤                       |

#### 边

根据边的特性进行过滤

| 类型        | 解释                                                         |
| ----------- | ------------------------------------------------------------ |
| Edge Type   | Edge Type 指两个节点之间可以有多条边，多条边用不同的关键词标记，关键词存储在数据资料界面的 kind 字段中 |
| Mutual Edge | 过滤双向的边，即单向边不会显示，并且只对有向边有效           |
| Self-loop   | 不显示图中的自环                                             |
| 边的权重    | 根据边的权重过滤边                                           |

# 聚类算法

### DBSCAN

```
Cluster number
```

**基于密度的噪声应用空间聚类(DBSCAN)**是一种无监督的ML聚类算法。无监督的意思是它不使用预先标记的目标来聚类数据点。聚类是指试图将相似的数据点分组到人工确定的组或簇中。它可以替代KMeans和层次聚类等流行的聚类算法。

### Girvan-Newman Clustering

```
Cluter-ID
```

Girvan Newman Algorithm （GN算法）

2003年提出（Link），2003年-2005年的SOTA。基本思想：在一个网络之中，经过社区内部的边的最短路径相对较少，而经过社区之间的边的最短路径的数目则相对较多。因此GN算法基于betweenness（边介数，为网络中任意两个节点经过此边的最短路径的数目）进行社区分割。

算法思想

根据图的边介数中心性(Edge Betweenness Centrality,EBC)值，通过迭代去除图的边来发现图中的社区。边介数中心性最大的边最先被移除。算法流程：

计算网络中每一条边的边介数
删除边界数最大的边
重复步骤1,2 直到网络中的任一顶点做为一个社区

缺点

时间复杂度高
在每次删除边了以后都会重复计算剩余节点的边介数

终止条件缺少一个衡量的目标
不能判断算法终止位置，不知道最后会有多少个社区



### Leiden algorithm

```
Cluster
```

Leiden Algorithm （莱顿算法）2020年提出（Link），目前的SOTA之一。
算法流程

1.节点的本地移动
2.分区细化
细化阶段不遵循贪婪的方法，可以将节点与随机选择的社区合并，从而增加质量函数。这种随机性允许更广泛地发现分割空间。

3.基于细化分区的网络聚合

优点

比Louvain算法运行更快
节点移动--> 节点的本地移动：Louvian算法对于本社区内的每一个顶点都尝试和
其它所有社区进行模块度计算，而Leidian算法只针对的不稳定点和它直接相连的社区进行模块度计算。

针对Louvain分区内部存在断链的问题进行优化，使分区更加合理
Leiden 算法能够分割集群（即分区细化），而不是像 Louvain 算法那样只合并它们。通过以特定方式拆分集群，Leiden 算法保证了集群之间的良好连接和子集最优特性（即不可能通过将一个或多个节点从一个集群移动到另一个集群来提高集群的质量 -->通过模块度衡量）。







[桥接中心度](https://link.zhihu.com/?target=https%3A//cse.buffalo.edu/tech-reports/2006-05.pdf) **Bridging Centrality**：“桥接中心性区分的节点很好地位于高度连通区域之间的连接位置。桥接中心度可以区分桥接节点、流经它们的信息更多的节点以及高度连接区域之间的位置，而其他中心度度量则不能。

对不同类型的节点之间的组织中心性桥梁感兴趣的情况来推进该措施，例如科学和工业组织之间，或国家与国际组织之间。



### ChineseWhisper

初始化

构建无向图，以每个节点为一个类别，不同节点之间计算相似度，当相似度超过threshold，将两个节点相连形成关联边，权重为相似度。

迭代

1.随机选取一个节点i开始，在其邻居中选取边权重最大者j，并将该点归为节点j类（若邻居中有多个节点(j,k,l)属于同一类，则将这些节点权重相加再参与比较）。

2.遍历所有节点后，重复迭代至满足迭代次数。

# 中心性

## Eigenvector Centrality 特征向量中心性

根据该邻居顶点的邻居顶点赋值之和，成比地为其赋值。

## Closeness Centrality 接近中心性

接近中心性:从一个给定起始节点到所有其它节点的平均距离。

1.如果节点到图中其他节点的最短距离都很小，那么它的接近中心性就很高。相比介数中心性，接近中心性更接近几何上的中心位置；
2.一个中心结点应该能更快地到达网络内的其他结点；
3.计算一个结点到网络内其他所有结点的平均距离的倒数

现实意义：



## Harmonic Closeness Centrality 调和中心性

调和中心性：是接近中心性算法的变种。衡量节点在其**连通分量**中到其它各点的平均最短距离

现实意义：

## Betweenness Centrality 介数中心性

介数中心性:度量一个节点出现在网络中最短路径上的频率。

现实意义：



## Bridging Centrality  桥接中心性

桥接中心性：桥接中心性区分的节点很好的位于高度连通区域之间的连接位置。桥接中心度可以区分桥接节点、流经它们的信息更多的节点以及高度连接区域之间的位置，而其他中心度度量则不能

现实意义：

